<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MovieHub - Stream thousands of movies and TV shows in HD quality. Affordable subscription plans and pay-per-view options.">
    <meta name="keywords" content="movies, streaming, films, TV shows, online movies">
    <meta property="og:title" content="MovieHub - Your Ultimate Streaming Service">
    <meta property="og:description" content="Stream thousands of movies and TV shows in HD quality">
    <meta property="og:type" content="website">
    <title>MovieHub - Stream Movies & TV Shows Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #e50914;
            --primary-dark: #b2070f;
            --dark-bg: #1a1a1a;
            --light-bg: #f4f4f4;
            --text-dark: #333;
            --text-light: #f4f4f4;
            --text-gray: #666;
            --shadow: 0 4px 8px rgba(0,0,0,0.1);
            --shadow-hover: 0 10px 20px rgba(0,0,0,0.2);
            --transition: all 0.3s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-dark);
            line-height: 1.6;
        }
        
        header {
            background-color: var(--dark-bg);
            color: var(--text-light);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: bold;
            transition: var(--transition);
        }
        
        nav a:hover {
            color: var(--primary-color);
        }
        
        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: var(--text-light);
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
            text-align: center;
        }
        
        .btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--text-light);
        }
        
        .btn-outline:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://source.unsplash.com/random/1920x600/?movie,theater') no-repeat center center/cover;
            height: 70vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--text-light);
            padding: 0 1rem;
        }
        
        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: clamp(1rem, 2vw, 1.5rem);
            margin-bottom: 2rem;
            max-width: 800px;
        }
        
        .search-container {
            width: 100%;
            max-width: 700px;
            position: relative;
        }
        
        .search-bar {
            width: 100%;
            padding: 1rem;
            border-radius: 30px;
            border: none;
            font-size: 1rem;
            padding-left: 3rem;
        }
        
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-gray);
        }
        
        .section-title {
            text-align: center;
            margin: 2rem 0;
            font-size: 2rem;
            color: var(--text-dark);
        }
        
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            padding: 1rem 0;
        }
        
        .movie-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }
        
        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }
        
        .movie-poster {
            width: 100%;
            height: 350px;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .movie-card:hover .movie-poster {
            filter: brightness(1.1);
            transform: scale(1.03);
        }
        
        .movie-info {
            padding: 1rem;
        }
        
        .movie-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .movie-genre {
            color: var(--text-gray);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .movie-genre i {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }
        
        .price-options {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            gap: 0.5rem;
        }
        
        .price-option {
            text-align: center;
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .price-option:hover {
            background: #f0f0f0;
        }
        
        .price-option.selected {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .movie-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.2rem;
            text-align: center;
            margin: 1rem 0;
        }
        
        .new-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 1;
        }
        
        footer {
            background: var(--dark-bg);
            color: var(--text-light);
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        
        .footer-column h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 0.5rem;
        }
        
        .footer-column a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-column a:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-links a {
            color: var(--text-light);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            color: var(--primary-color);
        }
        
        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            overflow: auto;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal.show {
            opacity: 1;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
            animation: modalopen 0.3s ease-out;
        }
        
        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }
        
        .close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: #aaa;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close:hover {
            color: var(--primary-color);
        }
        
        .modal h2 {
            margin-bottom: 1.5rem;
            text-align: center;
            color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 1.2rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(229,9,20,0.2);
        }
        
        .form-toggle {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }
        
        .form-toggle a {
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: none;
            font-weight: bold;
        }
        
        .form-toggle a:hover {
            text-decoration: underline;
        }
        
        .error-message {
            color: var(--primary-color);
            font-size: 0.8rem;
            margin-top: 0.3rem;
            display: none;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--dark-bg);
            color: white;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: var(--shadow-hover);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast i {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }
        
        /* Filter Section */
        .filter-section {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            box-shadow: var(--shadow);
        }
        
        .filter-group {
            flex: 1;
            min-width: 150px;
        }
        
        .filter-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .filter-select {
            width: 100%;
            padding: 0.7rem;
            border-radius: 4px;
            border: 1px solid #ddd;
            background: white;
            font-size: 0.9rem;
        }
        
        /* Cart Indicator */
        .cart-indicator {
            position: relative;
            display: inline-flex;
            align-items: center;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 0 0.5rem;
            }
            
            .hero {
                height: 60vh;
            }
            
            .movie-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .modal-content {
                margin: 10% auto;
                width: 95%;
            }
        }
        
        @media (max-width: 480px) {
            .price-options {
                flex-direction: column;
            }
            
            .filter-section {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">MovieHub</div>
                <nav>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#movies">Movies</a></li>
                        <li><a href="#genres">Genres</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                        <li><a href="#" id="login-btn">Login</a></li>
                        <li><a href="#" id="register-btn" class="btn btn-outline">Sign Up</a></li>
                        <li>
                            <a href="#" id="cart-btn" class="cart-indicator">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="cart-count">0</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Login/Signup Modal -->
    <div id="auth-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-content">
            <span class="close" aria-label="Close modal">&times;</span>
            <div id="login-form">
                <h2 id="modal-title">Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" placeholder="Enter your email" required aria-required="true">
                        <div class="error-message" id="login-email-error">Please enter a valid email</div>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" placeholder="Enter your password" required aria-required="true" minlength="6">
                        <div class="error-message" id="login-password-error">Password must be at least 6 characters</div>
                    </div>
                    <button type="submit" class="btn" id="submit-login">Login</button>
                </form>
                <div class="form-toggle">
                    Don't have an account? <a id="show-register" tabindex="0">Sign up</a>
                </div>
            </div>
            
            <div id="register-form" style="display: none;">
                <h2>Create Account</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" placeholder="Enter your full name" required aria-required="true">
                        <div class="error-message" id="register-name-error">Please enter your name</div>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" placeholder="Enter your email" required aria-required="true">
                        <div class="error-message" id="register-email-error">Please enter a valid email</div>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="Create a password" required aria-required="true" minlength="6">
                        <div class="error-message" id="register-password-error">Password must be at least 6 characters</div>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm">Confirm Password</label>
                        <input type="password" id="register-confirm" placeholder="Confirm your password" required aria-required="true">
                        <div class="error-message" id="register-confirm-error">Passwords don't match</div>
                    </div>
                    <button type="submit" class="btn" id="submit-register">Sign Up</button>
                </form>
                <div class="form-toggle">
                    Already have an account? <a id="show-login" tabindex="0">Login</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert" aria-live="assertive">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Item added to cart</span>
    </div>

    <!-- Hero Section with Search -->
    <section class="hero" id="home" aria-label="Hero section">
        <h1>Unlimited Movies, TV Shows, and More</h1>
        <p>Watch anywhere. Cancel anytime.</p>
        <div class="search-container">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
            <input type="text" class="search-bar" placeholder="Search for movies, genres, directors..." aria-label="Search movies">
        </div>
    </section>

    <!-- Filter Section -->
    <section class="container">
        <div class="filter-section">
            <div class="filter-group">
                <label for="genre-filter" class="filter-label">Genre</label>
                <select id="genre-filter" class="filter-select" aria-label="Filter by genre">
                    <option value="all">All Genres</option>
                    <option value="action">Action</option>
                    <option value="comedy">Comedy</option>
                    <option value="drama">Drama</option>
                    <option value="sci-fi">Sci-Fi</option>
                    <option value="horror">Horror</option>
                    <option value="romance">Romance</option>
                    <option value="thriller">Thriller</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="sort-filter" class="filter-label">Sort By</label>
                <select id="sort-filter" class="filter-select" aria-label="Sort movies">
                    <option value="popular">Most Popular</option>
                    <option value="newest">Newest Releases</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="rating">Highest Rated</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="year-filter" class="filter-label">Release Year</label>
                <select id="year-filter" class="filter-select" aria-label="Filter by year">
                    <option value="all">All Years</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Featured Movies Section -->
    <section class="container" id="movies" aria-label="Movies section">
        <h2 class="section-title">Featured Movies</h2>
        <div class="movie-grid" id="movie-container">
            <!-- Movie cards will be dynamically inserted here -->
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>MovieHub</h3>
                    <p>Your ultimate destination for streaming movies and TV shows in HD quality at affordable prices.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#movies">Movies</a></li>
                        <li><a href="#genres">Genres</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Comedy</a></li>
                        <li><a href="#">Drama</a></li>
                        <li><a href="#">Horror</a></li>
                        <li><a href="#">Sci-Fi</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Help</h3>
                    <ul>
                        <li><a href="#">Account</a></li>
                        <li><a href="#">Plans</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQs</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 MovieHub. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Movie Data - In a real app, this would come from an API
        const movies = [
            {
                id: 1,
                title: "The Last Adventure",
                genre: "Action, Adventure",
                genres: ["action", "adventure"],
                year: 2023,
                rating: 4.5,
                poster: "https://source.unsplash.com/random/300x450/?action,movie",
                rentPrice: 3.99,
                buyPrice: 12.99,
                isNew: true,
                description: "An epic adventure following a group of explorers as they uncover ancient secrets."
            },
            {
                id: 2,
                title: "Laugh Out Loud",
                genre: "Comedy",
                genres: ["comedy"],
                year: 2022,
                rating: 3.8,
                poster: "https://source.unsplash.com/random/300x450/?comedy,movie",
                rentPrice: 2.99,
                buyPrice: 9.99,
                isNew: false,
                description: "A hilarious comedy about mistaken identities and chaotic situations."
            },
            {
                id: 3,
                title: "Space Odyssey",
                genre: "Sci-Fi, Adventure",
                genres: ["sci-fi", "adventure"],
                year: 2023,
                rating: 4.7,
                poster: "https://source.unsplash.com/random/300x450/?scifi,movie",
                rentPrice: 4.99,
                buyPrice: 14.99,
                isNew: true,
                description: "Journey through the cosmos in this visually stunning sci-fi epic."
            },
            {
                id: 4,
                title: "Midnight Terror",
                genre: "Horror, Thriller",
                genres: ["horror", "thriller"],
                year: 2021,
                rating: 4.1,
                poster: "https://source.unsplash.com/random/300x450/?horror,movie",
                rentPrice: 3.49,
                buyPrice: 11.99,
                isNew: false,
                description: "A chilling horror story that will keep you up at night."
            },
            {
                id: 5,
                title: "The Great Journey",
                genre: "Drama, Adventure",
                genres: ["drama", "adventure"],
                year: 2022,
                rating: 4.3,
                poster: "https://source.unsplash.com/random/300x450/?drama,movie",
                rentPrice: 3.29,
                buyPrice: 10.99,
                isNew: false,
                description: "A moving drama about personal growth and self-discovery."
            },
            {
                id: 6,
                title: "Romantic Escape",
                genre: "Romance, Drama",
                genres: ["romance", "drama"],
                year: 2020,
                rating: 3.9,
                poster: "https://source.unsplash.com/random/300x450/?romance,movie",
                rentPrice: 2.99,
                buyPrice: 8.99,
                isNew: false,
                description: "A heartwarming love story about second chances."
            },
            {
                id: 7,
                title: "The Heist",
                genre: "Action, Thriller",
                genres: ["action", "thriller"],
                year: 2023,
                rating: 4.4,
                poster: "https://source.unsplash.com/random/300x450/?heist,movie",
                rentPrice: 4.49,
                buyPrice: 13.99,
                isNew: true,
                description: "A high-stakes thriller about the perfect crime."
            },
            {
                id: 8,
                title: "Family Matters",
                genre: "Comedy, Drama",
                genres: ["comedy", "drama"],
                year: 2021,
                rating: 3.7,
                poster: "https://source.unsplash.com/random/300x450/?family,movie",
                rentPrice: 2.79,
                buyPrice: 9.49,
                isNew: false,
                description: "A funny yet touching story about modern family life."
            }
        ];

        // Shopping Cart
        let cart = [];

        // DOM Elements
        const movieContainer = document.getElementById('movie-container');
        const authModal = document.getElementById('auth-modal');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const closeBtn = document.querySelector('.close');
        const showRegister = document.getElementById('show-register');
        const showLogin = document.getElementById('show-login');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const loginFormElement = document.getElementById('loginForm');
        const registerFormElement = document.getElementById('registerForm');
        const toast = document.getElementById('toast');
        const cartBtn = document.getElementById('cart-btn');
        const cartCount = document.querySelector('.cart-count');
        const genreFilter = document.getElementById('genre-filter');
        const sortFilter = document.getElementById('sort-filter');
        const yearFilter = document.getElementById('year-filter');
        const searchBar = document.querySelector('.search-bar');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderMovies(movies);
            updateCartCount();
            
            // Check if user is logged in (demo purposes)
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            if (isLoggedIn) {
                loginBtn.textContent = 'My Account';
            }
        });

        // Render movies to the page
        function renderMovies(moviesToRender) {
            movieContainer.innerHTML = '';
            
            moviesToRender.forEach(movie => {
                const movieCard = document.createElement('div');
                movieCard.className = 'movie-card';
                movieCard.innerHTML = `
                    ${movie.isNew ? '<span class="new-badge">NEW</span>' : ''}
                    <img src="${movie.poster}" alt="${movie.title} movie poster" class="movie-poster">
                    <div class="movie-info">
                        <h3 class="movie-title">${movie.title}</h3>
                        <p class="movie-genre"><i class="fas fa-film"></i> ${movie.genre}</p>
                        <div class="price-options">
                            <div class="price-option selected" data-price="${movie.rentPrice}" data-type="rent">Rent</div>
                            <div class="price-option" data-price="${movie.buyPrice}" data-type="buy">Buy</div>
                        </div>
                        <p class="movie-price">$${movie.rentPrice}</p>
                        <button class="btn add-to-cart" data-id="${movie.id}" data-price="${movie.rentPrice}" data-type="rent">Add to Cart</button>
                    </div>
                `;
                movieContainer.appendChild(movieCard);
            });
            
            // Add event listeners to price options
            document.querySelectorAll('.price-option').forEach(option => {
                option.addEventListener('click', function() {
                    const parent = this.parentNode;
                    parent.querySelectorAll('.price-option').forEach(el => el.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    const price = this.getAttribute('data-price');
                    const type = this.getAttribute('data-type');
                    parent.parentNode.querySelector('.movie-price').textContent = `$${price}`;
                    
                    // Update the add to cart button
                    const addToCartBtn = parent.parentNode.querySelector('.add-to-cart');
                    addToCartBtn.setAttribute('data-price', price);
                    addToCartBtn.setAttribute('data-type', type);
                });
            });
            
            // Add event listeners to add to cart buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const movieId = parseInt(this.getAttribute('data-id'));
                    const price = parseFloat(this.getAttribute('data-price'));
                    const type = this.getAttribute('data-type');
                    const movie = movies.find(m => m.id === movieId);
                    
                    addToCart(movie, price, type);
                });
            });
        }

        // Add item to cart
        function addToCart(movie, price, type) {
            const existingItem = cart.find(item => item.id === movie.id && item.type === type);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: movie.id,
                    title: movie.title,
                    price: price,
                    type: type,
                    quantity: 1,
                    poster: movie.poster
                });
            }
            
            updateCartCount();
            showToast(`${movie.title} (${type}) added to cart`);
        }

        // Update cart count display
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Show toast notification
        function showToast(message) {
            const toastMessage = document.getElementById('toast-message');
            toastMessage.textContent = message;
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Modal functionality
        loginBtn.addEventListener('click', function(e) {
            e.preventDefault();
            openModal('login');
        });
        
        registerBtn.addEventListener('click', function(e) {
            e.preventDefault();
            openModal('register');
        });
        
        closeBtn.addEventListener('click', closeModal);
        
        showRegister.addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'none';
            registerForm.style.display = 'block';
        });
        
        showLogin.addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'block';
            registerForm.style.display = 'none';
        });
        
        function openModal(formType) {
            authModal.style.display = 'block';
            setTimeout(() => {
                authModal.classList.add('show');
            }, 10);
            
            if (formType === 'login') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
                document.getElementById('login-email').focus();
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
                document.getElementById('register-name').focus();
            }
        }
        
        function closeModal() {
            authModal.classList.remove('show');
            setTimeout(() => {
                authModal.style.display = 'none';
            }, 300);
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target === authModal) {
                closeModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && authModal.style.display === 'block') {
                closeModal();
            }
        });

        // Form validation and submission
        loginFormElement.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const emailError = document.getElementById('login-email-error');
            const passwordError = document.getElementById('login-password-error');
            
            let isValid = true;
            
            // Validate email
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.style.display = 'block';
                isValid = false;
            } else {
                emailError.style.display = 'none';
            }
            
            // Validate password
            if (!password || password.length <